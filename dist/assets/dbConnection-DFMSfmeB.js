import{P as _}from"./index-DVJ1rf7s.js";const d={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_URL:"http://localhost:3001/api",VITE_DB_HOST:"localhost",VITE_DB_NAME:"asp_crm",VITE_DB_PASSWORD:"vedant21",VITE_DB_PORT:"5432",VITE_DB_SSL:"false",VITE_DB_USER:"postgres",VITE_JWT_SECRET:"560d29644771b5a0ef1d3dcdfc7c44e93bf29e037b77f8c23b94257887219eb815d751d4f6703423b1463dc0a0c33bf365ecc7b16518c65d74e6342435e12978",VITE_USER_NODE_ENV:"development",VITE_USE_MOCKS:"false"},c=typeof import.meta<"u"?d||{}:{},i={VITE_API_URL:"http://localhost:3001/api",VITE_DB_HOST:"localhost",VITE_DB_PORT:"5432",VITE_DB_NAME:"asp_crm",VITE_DB_USER:"postgres"};new Proxy({},{get:(e,o)=>{if(c[o]!==void 0)return c[o];if(i[o]!==void 0)return i[o];if(typeof o=="string"&&o.startsWith("VITE_")){const s=o.substring(5);if(c[s]!==void 0)return c[s];if(i[s]!==void 0)return i[s]}}});const E=()=>(console.log("[dotenv.shim] Using browser-compatible dotenv.config()"),{parsed:{}}),f={config:E,parse:()=>({})};var n={};const t=typeof window<"u";t||f.config();const T={host:t?"localhost":n.VITE_DB_HOST||"localhost",port:parseInt(t?"5432":n.VITE_DB_PORT||"5432"),database:t?"asp_crm":n.VITE_DB_NAME||"asp_crm",user:t?"postgres":n.VITE_DB_USER||"postgres",password:t?"postgres":n.VITE_DB_PASSWORD||"postgres",ssl:t?!1:n.VITE_DB_SSL==="true",max:20,idleTimeoutMillis:3e4,connectionTimeoutMillis:2e3},a=new _(T);t&&console.warn("PostgreSQL connection is not available in browser environment. This is a mock implementation.");a.on("connect",()=>{console.log("PostgreSQL pool connection established")});a.on("error",e=>{console.error("Unexpected error on idle PostgreSQL client",e)});const g=async(e,o)=>{const s=Date.now();try{const r=await a.query(e,o),l=Date.now()-s;return console.log("Executed query",{text:e,duration:`${l}ms`,rows:r.rowCount}),r}catch(r){throw console.error("Error executing query",{text:e,error:r}),r}},p=async()=>{const e=await a.connect(),o=e.release;return e.release=()=>{console.log("PostgreSQL client released back to pool"),o.apply(e)},e};export{p as g,g as q};
